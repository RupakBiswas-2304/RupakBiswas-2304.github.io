<!doctype html><html lang=en-us><head><title></title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><style>@import "https://fonts.googleapis.com/css2?family=Inconsolata&display=swap";:root{--cursor-visibility:hidden}html,body{width:100%;height:100%;overflow:auto;font-family:inconsolata,monospace;font-size:4vmin;line-height:4.1vmin;font-weight:400}body{margin:0;display:flex;flex-direction:row;justify-content:center;align-items:center}#content{min-width:82vmin;min-height:82vmin}::-webkit-scrollbar{width:10px}::-webkit-scrollbar-track{border-radius:10px;box-shadow:inset 0 0 1px white}::-webkit-scrollbar-thumb{border-radius:10px;box-shadow:0 0 0 1px white}.cursor,#activity-title:after,#activity-content:after,#cd:after,#whoami:after,#cat:after,#tree:after{visibility:var(--cursor-visibility);content:"|";overflow:hidden;color:#fff;animation:blink 500ms linear infinite alternate}@keyframes blink{0%{opacity:0}100%{opacity:1}}@media only screen and (min-width:768px){body{font-size:2.5vmin;line-height:2.6vmin}#content{min-width:60vmin}}:root{--cursor-visibility:hidden}body{align-items:unset;overflow-y:scroll}#content{max-width:80vmin}pre{background:#161616cf;padding:5px;border:1px solid}@keyframes blink{0%{opacity:0}100%{opacity:1}}body{background:#1b1d1e}body #terminal{color:#bbb}body #user{color:#23e298}body #dir{color:#d08010}body .Typewriter__cursor{color:#bbb}a{color:#bbb}.navFull{background-color:#353535;font-family:courier new;font-size:17px;display:inline;position:fixed;bottom:0;left:0;width:100%;padding-top:5px;padding:10px;padding-bottom:0}.navCredits{float:right;padding-right:18px;padding-bottom:10px;padding-top:5px}#content::after{content:"\a\a";white-space:pre}</style></head><body><div id=content><span id=activity-title></span><br><span id=activity-content></span><br><script type=text/javascript>async function typewriter(e,t,n){var s=0,o=!1;addText="";const i=document.getElementById(t),a=()=>new Promise(e=>setTimeout(e,n)),r=()=>new Promise(e=>e()),c=()=>i.innerHTML=e.slice(0,s+1)+addText,l=document.createElement("span");for(l.id="blink",i.style.setProperty("--cursor-visibility","visible");s<e.length;){if(e.charAt(s+1)==="<"&&(o=!0),e.charAt(s+1)===">"&&(o=!1),o){s++;continue}requestAnimationFrame(c),n===0?await r():await a(),s++}i.style.setProperty("--cursor-visibility","collapse")}function parseDelay(e){const t=parseInt(e,10);return isNaN(t)?0:t}const titleDelay=parseDelay("0"),contentDelay=parseDelay("0"),typeeffetct=async()=>{await typewriter("\u003cspan id=\u0027terminal\u0027\u003e\u003ch1 id=\u0027title\u0027\u003e\u003c/h1\u003e\u003c/span\u003e","activity-title",titleDelay),await typewriter(`\u003cspan id=\u0027terminal\u0027\u003e\u003ch1 id=\u0022title-4-register-assembler-and-emulator\u0022\u003eTITLE: 4 Register Assembler and Emulator\u003c/h1\u003e
\u003ch3 id=\u0022author-rupak-biswas-httpsgithubcomrupakbiswas-2304-\u0022\u003eAuthor: \u003ca href=\u0022https://github.com/RupakBiswas-2304\u0022\u003eRUPAK BISWAS\u003c/a\u003e\u003c/h3\u003e
\u003ch3 id=\u0022date-2021-09-16\u0022\u003eDate: 2021-09-16\u003c/h3\u003e
\u003ch1 id=\u0022files\u0022\u003eFiles:\u003c/h1\u003e
\u003cul\u003e
\u003cli\u003e
\u003cp\u003e*All the files i submitted, asm.c and emu.c and claims.txt, have my name and student id at the start, along with a declaration of authorship.\u003c/p\u003e
\u003c/li\u003e
\u003cli\u003e
\u003cp\u003eThe evidence for Assembler including the output files from the X (eg five)  test examples has also been uploaded. They are test1(3 output files), test2(3 output files), test3
(1 output file), memcpy(3 output files) and triangle(3 output files). All the test files have been tested and work properly. As for the evidence for the emulator is uploaded
with two output files, memcpy.txt and triangle.txt.\u003c/p\u003e
\u003c/li\u003e
\u003cli\u003e
\u003cp\u003e*Both of my c programs did not show any errors and warnings when i compiled it with
gcc -std=c89 -pedantic and gcc -std=c89 -pedantic -W -Wall -Wpointer-arith -Wwrite-strings -Wstrict-prototypes standard  or equilvalent \u0026hellip;.or gcc \u0026hellip; or g\u002b\u002b\u003c/p\u003e
\u003c/li\u003e
\u003cli\u003e
\u003cp\u003e*Two programs are compilable with gcc asm.c -o asm and gcc emu.c -o emu.\u003c/p\u003e
\u003c/li\u003e
\u003c/ul\u003e
\u003ch2 id=\u0022program-format-and-structure\u0022\u003eProgram format and structure:\u003c/h2\u003e
\u003ch2 id=\u0022heading\u0022\u003e\u003c/h2\u003e
\u003col\u003e
\u003cli\u003e
\u003cp\u003eThe assembler:\u003c/p\u003e
\u003cul\u003e
\u003cli\u003ewith two data structures to store respectively labels and mnemonic table with expected operands.\u003c/li\u003e
\u003cli\u003euses a single routine for both passes.\u003c/li\u003e
\u003cli\u003edetects label erros.\u003c/li\u003e
\u003cli\u003econsistent and sensible formatting with sensible program structure.\u003c/li\u003e
\u003cli\u003esensible variable, function \u0026amp; type names with explanatory comments.
\u003cul\u003e
\u003cli\u003eadvanced listing file.\u003c/li\u003e
\u003cli\u003eassembles test programs.\u003c/li\u003e
\u003cli\u003ecan implements and demonstrates the instruction SET.\u003c/li\u003e
\u003c/ul\u003e
\u003c/li\u003e
\u003c/ul\u003e
\u003c/li\u003e
\u003cli\u003e
\u003cp\u003eThe emulator :\u003c/p\u003e
\u003cul\u003e
\u003cli\u003ewith three data structures to store respectively memory, mnemonic table with expected operands
and a linked list structure word.\u003c/li\u003e
\u003cli\u003eloads object file,\u003c/li\u003e
\u003cli\u003eby giving the instructions like \u0026ldquo;-befor/-after\u0026rdquo; , the program can produce memory dump before/after execution.\u003c/li\u003e
\u003cli\u003eby giving the instruction like \u0026ldquo;-trace\u0026rdquo;, the program prints the result of program executed.\u003c/li\u003e
\u003cli\u003edetects errant programs.\u003c/li\u003e
\u003c/ul\u003e
\u003c/li\u003e
\u003c/ol\u003e
\u003ch2 id=\u0022testing\u0022\u003eTesting:\u003c/h2\u003e
\u003cul\u003e
\u003cli\u003e
\u003ch2 id=\u00221-the-assembler\u0022\u003e1. The assembler:\u003c/h2\u003e
\u003cul\u003e
\u003cli\u003e
\u003cp\u003eI have tested  5/ five examples shown as bellow. The errors only occurred in the file test2.asm and
the program immediately stopped on the second pass.\u003c/p\u003e
\u003c/li\u003e
\u003cli\u003e
\u003cp\u003eThe others were tested without any errors detected and produced three output files, listing file,
error log file and machine readable object file, for each example.\u003c/p\u003e
\u003c/li\u003e
\u003cli\u003e
\u003cp\u003eAfter comparing the listing files and object file of memcpy.asm , memcpy.l, triangle.l memcpy.o
with the implemented result given on the assignment, both of them show no difference
from those provided( if there is different  that is fine too)\u003c/p\u003e
\u003c/li\u003e
\u003c/ul\u003e
\u003c/li\u003e
\u003cli\u003e
\u003cp\u003e1)\u003c/p\u003e
\u003c/li\u003e
\u003c/ul\u003e
\u003cpre tabindex=\u00220\u0022\u003e\u003ccode\u003e#Input: ./asm test1.asm
#Output: 
a. test1.l 
b. test1.log (without any error messages)
c. test1.o
\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e
\u003cli\u003e2)\u003c/li\u003e
\u003c/ul\u003e
\u003cpre tabindex=\u00220\u0022\u003e\u003ccode\u003e#Input: ./asm test2.asm
#Output: 
a. test2.l 
b. test2.log (without error messages shown as below but also in log file)
c. test2.o

error messages:
ERROR: Duplicate labels found for label.
ERROR: Invalid label 0def at address 0005
ERROR: Invalid label or offset nonesuch at address 0000
ERROR: Invalid number 08ge at address 0001
ERROR: Missing operand for instruction ldc at address 0002
ERROR: Invalid number 5, at address 0004
ERROR: Invalid mnemonic fibble at address 0005
ERROR: Invalid mnemonic 0def at address 0006
\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e
\u003cli\u003e3)\u003c/li\u003e
\u003c/ul\u003e
\u003cpre tabindex=\u00220\u0022\u003e\u003ccode\u003e#Input: ./asm TEST/test3.asm (memcopy.asm)
#Output: 
a. test3.l 
b. test3.log (without any error messages)
c. test3.o
\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e
\u003cli\u003e4)\u003c/li\u003e
\u003c/ul\u003e
\u003cpre tabindex=\u00220\u0022\u003e\u003ccode\u003e#Input: ./asm test4.asm (triangle.asm)
#Output: 
a. memcpy.l 
b. memcpy.log (without any error messages)
c. memcpy.o
\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e
\u003cli\u003e5)\u003c/li\u003e
\u003c/ul\u003e
\u003cpre tabindex=\u00220\u0022\u003e\u003ccode\u003e#Input: ./asm sums.asm 
#Output: 
a. triangle.l 
b. triangle.log (without any error messages)
c. triangle.o
\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e
\u003cli\u003e
\u003ch2 id=\u00222-the-emulator\u0022\u003e2. The emulator:\u003c/h2\u003e
\u003cul\u003e
\u003cli\u003e
\u003cp\u003eI have tested three examples shown as bellow.\u003c/p\u003e
\u003c/li\u003e
\u003cli\u003e
\u003cp\u003eThe others were tested without any errors detected and produced excution data both on the screen and
output text file for each example according to the usage instruction.\u003c/p\u003e
\u003c/li\u003e
\u003cli\u003e
\u003cp\u003eAfter running the bin file given, the trace data are the same as
the implemented result from my own program.\u003c/p\u003e
\u003c/li\u003e
\u003cli\u003e
\u003cp\u003eFlags :\u003c/p\u003e
\u003c/li\u003e
\u003c/ul\u003e
\u003c/li\u003e
\u003c/ul\u003e
\u003cpre tabindex=\u00220\u0022\u003e\u003ccode\u003einput :  ./emu help
USAGE: \u0026lt;file\u0026gt; [-t] [-d [sec]] [-p] ...
 -t: trace execution
 -d [sec]: delay execution
 -p: persistant trace output
 -membefore [start] [end]: print memory before execution
 -memafter [start] [end]: print memory after execution
 -memtrace [start] [end]: print memory after each instruction
\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e
\u003cli\u003e1)\u003c/li\u003e
\u003c/ul\u003e
\u003cpre tabindex=\u00220\u0022\u003e\u003ccode\u003eInput :  ./emu TEST/test3.o -t -p -memafter 0 20
Output :
\u002b------------\u002b------------\u002b------------\u002b------------\u002b
|    Reg A   |    Reg B   |     PC     |     SP     |
\u002b------------\u002b------------\u002b------------\u002b------------\u002b
|     75     |      0     |      1     |      0     |
\u002b------------\u002b------------\u002b------------\u002b------------\u002b
\u002b------------\u002b------------\u002b------------\u002b------------\u002b
|    Reg A   |    Reg B   |     PC     |     SP     |
\u002b------------\u002b------------\u002b------------\u002b------------\u002b
|     141    |      0     |      2     |      0     |
\u002b------------\u002b------------\u002b------------\u002b------------\u002b
\u002b------------\u002b------------\u002b------------\u002b------------\u002b
|    Reg A   |    Reg B   |     PC     |     SP     |
\u002b------------\u002b------------\u002b------------\u002b------------\u002b
|     141    |      0     |      2     |      0     |
\u002b------------\u002b------------\u002b------------\u002b------------\u002b
\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b
|  MEMORY  |     0    |     1    |     2    |     3    |     4    |     5    |     6    |     7    |     8    |     9    |
\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b
| 00000000 | 00004B00 | 00004201 | 00000000 | 00000000 | 00000000 | 00000000 | 00000000 | 00000000 | 00000000 | 00000000 |
\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b
| 0000000A | 00000000 | 00000000 | 00000000 | 00000000 | 00000000 | 00000000 | 00000000 | 00000000 | 00000000 | 00000000 |
\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b
| 00000014 | 00000000 | 00000000 | 00000000 | 00000000 | 00000000 | 00000000 | 00000000 | 00000000 | 00000000 | 00000000 |
\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b----------\u002b
\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e
\u003cli\u003e2)\u003c/li\u003e
\u003c/ul\u003e
\u003cpre tabindex=\u00220\u0022\u003e\u003ccode\u003e#Input: ./emu TEST/test4.o -t -p -memafter 0 100 \u0026gt; TEST/triangle.txt
#Output: triangle.txt
\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e
\u003cli\u003e3)\u003c/li\u003e
\u003c/ul\u003e
\u003cpre tabindex=\u00220\u0022\u003e\u003ccode\u003e#Input: ./emu TEST/test1.o -t 
#Output: Gone in infinite loop ( no error or warning message)
\u003c/code\u003e\u003c/pre\u003e\u003c/span\u003e`,"activity-content",contentDelay)};typeeffetct()</script></div><span class=navFull><span><a href=/>Home</a>
<span>&#8192;|&#8192;</span>
<a href=./..>/projects/</a></span>
<span class=navCredits><a href=https://github.com/RupakBiswas-2304 target=_blank rel=noopener>Github</a></span></span></body></html>